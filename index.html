<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SGB 款式挑選</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
  <style>
    body {
  background-image: url('images/background/bg-desktop.jpg');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center center;
  background-attachment: fixed; /* 桌機版固定背景 */
  min-height: 100vh;
  font-family: 'Noto Sans TC', sans-serif;
  color: #fff;
  text-align: center;
  padding: 20px;
  position: relative;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.25); /* 加淡白遮罩 */
  z-index: -1;
  transition: background 0.5s ease;
}

@media (max-width: 768px) {
  body {
    background-image: url('images/background/bg-mobile.jpg');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: top center;
    background-attachment: fixed;
    min-height: 100vh;
    padding-bottom: 20px;
  }
  body::before {
    background: rgba(255, 255, 255, 0.2); /* 手機版遮罩稍微淡一點 */
  }
}

html {
  height: 100%;
  min-height: 100%;
}

body {
  min-height: 100vh;
  min-height: 100svh; /* 支援新版手機瀏覽器的vh單位 */
}
section {
  display: none;
  opacity: 0;
  transition: opacity 0.5s ease;
}
.active {
  display: block;
  opacity: 1;
}

.option { 
  display: inline-block; 
  margin: 10px; 
  transition: all 0.3s ease;
}
.option-img {
  width: 100%;
  max-width: 240px;
  height: auto;
  object-fit: cover;
  border: 2px solid transparent;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}
.option-img:hover {
  border: 2px solid #007bff;
  transform: translateY(-5px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
}

.option-img:active {
  transform: translateY(-5px) scale(0.95);
  transition: transform 0.1s ease;
}

.label {
  margin-top: 6px;
  font-size: 20px;
  font-family: 'Noto Sans TC', sans-serif;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
}

.back-btn {
  margin: 10px auto;
  display: block;
  padding: 8px 20px;
  font-size: 16px;
  border: 1px solid #fff;
  border-radius: 4px;
  background-color: #000;
  color: #fff;
  font-family: 'Noto Sans TC', sans-serif;
  cursor: pointer;
  transition: all 0.3s ease;
}
.back-btn:hover {
  background-color: #fff;
  color: #000;
}

.submit-btn {
  margin: 20px auto;
  display: block;
  padding: 18px 30px;
  font-size: 24px;
  border: 2px solid #d33;
  background-color: #fff;
  color: #000;
  font-family: 'Noto Sans TC', sans-serif;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}
.submit-btn:hover {
  background-color: #d33;
  color: #fff;
}

h2, h3 {
  font-family: 'Noto Sans TC', sans-serif;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
}

@media (max-width: 768px) {
  body {
    background-image: url('images/background/bg-mobile.jpg');
    background-position: top center;
    background-attachment: scroll;
  }
  .option {
    display: block;
    margin: 10px auto;
    width: 100%;
    max-width: 300px;
  }
  .option-img {
    max-width: 200px;
  }
  h2, h3 {
    font-size: 20px;
  }
  .label {
    font-size: 16px;
  }
  .back-btn {
    font-size: 18px;
    padding: 12px 24px;
  }
  .submit-btn {
    font-size: 20px;
    padding: 14px 24px;
  }
}
    section {
  opacity: 1;
  transition: opacity 0.5s ease;
}
</style>
</head>
<body>
<h2>SGB 款式挑選</h2>
<section class="active" id="step1">
<h3>1. 選擇運動類型</h3>
<div id="sports"></div>
</section>
<section id="step2">
<h3>2. 選擇品項</h3><button class="back-btn" onclick="showStep('step1')">← 上一步</button>
<div id="items"></div>
</section>
<section id="step3">
<h3>3. 選擇球衣版型</h3><button class="back-btn" onclick="showStep('step2')">← 上一步</button>
<div id="jerseyTypes"></div>
</section>
<section id="step4">
<h3>4. 選擇球褲版型</h3><button class="back-btn" onclick="showStep('step3')">← 上一步</button>
<div id="shortsTypes"></div>
</section>
<section id="step5">
<h3>5. 選擇款式</h3><button class="back-btn" onclick="showStep('step4')">← 上一步</button>
<div id="styles"></div>
</section>
<section id="step6">
<h3>6. 選擇配色</h3><button class="back-btn" onclick="showStep('step5')">← 上一步</button>
<div id="colors"></div>
</section>
<section id="step7">
<h3>7. 填寫訂購表單</h3><button class="back-btn" onclick="showStep('step6')">← 上一步</button>
<button class="submit-btn" onclick="goToRagic()">前往 Ragic 表單</button>
</section>
</body>
</html>

  <script>
    
const imageLabelMap = {
  "籃球": "Basketball",
  "排球": "Volleyball",
  "羽球": "Badminton",
  "雙面球衣+單面球褲": "Reversible Jersey + Shorts",
  "單面球衣*2+單面球褲": "2 Jerseys + Shorts",
  "單面球衣*2+單面球褲*2": "2 Jerseys + 2 Shorts",
  "拉克蘭袖": "Raglan Sleeve",
  "SGB短袖": "SGB Sleeve",
  "練習衣": "Practice Jersey",
  "經典球褲": "Classic Shorts",
  "短版球褲": "Short Shorts",
  "排羽球上衣": "Top Only",
  "排羽球上衣+SGB素色排球褲": "Top + Shorts",
  "練習衣一口價": "Practice Only",
  "練習衣+SGB素色排球褲": "Practice + Shorts",
  "單面圓領": "Single_Side_Round",
  "單面V領": "Single_Side_V",
  "雙面圓領": "Reversible Jersey",
};

const data = {
  "籃球": {
    items: {
      "雙面球衣+單面球褲": ["雙面圓領"],
      "單面球衣*2+單面球褲": ["單面圓領", "單面V領"],
      "單面球衣*2+單面球褲*2": ["單面圓領", "單面V領"]
    },
    shorts: ["經典球褲", "短版球褲"],
    styles: {
      雙面圓領: ["S41","S42","S43","S44","S31","S32","S21","S23","S24","S10","S11","S12","S13","S01","S03","S07","S09"],
      單面圓領: ["S31","S32","S21","S23","S24","S10","S11","S12","S13","S01","S03","S07","S09"],
      單面V領: ["S41","S42","S43","S44"]
    },
    colors: {
      S31: ["SB", "BK", "BS", "CB", "FP", "FG", "CR", "BP", "BL", "LV", "MB", "EP", "TH", "PH", "BR", "MP", "NY", "GS", "CL", "LA", "MT", "MG", "DL", "MH"],
      S32: ["BK", "NW", "AP", "MG", "WB", "PW", "CR"],
      S21: ["GR", "DB", "DR", "ZG", "PP", "IG", "WB"],
      S23: ["WR", "NW", "BK", "PP", "PW", "CR", "VG", "GBL", "GOY", "EP", "CB", "LY", "MG", "MB", "WB"],
      S24: ["NW", "BK", "KB", "PP", "CY", "BO", "VG"],
      S10: ["BK", "WR", "AG", "BB", "AY", "LG"],
      S11: ["AY", "BK", "AG", "WG", "WR", "BB"],
      S12: ["BK", "CB", "LG", "AY", "AG", "WR"],
      S13: ["BK", "DT", "SG", "DB", "WR", "GG"],
      S01: ["BK", "AG", "AR", "AY", "BB", "LB", "WG"],
      S03: ["BK", "AG", "NW", "AY", "AR", "LB", "WG"],
      S07: ["BK", "AG", "BB", "AY", "AR", "LB", "WG"],
      S09: ["BK", "AG", "BB", "AY", "LB", "WG"],
      S41: ["BK", "KB", "PP", "DR", "AG", "GL"],
      S42: ["BK", "SV", "PP", "CB", "DR", "GL"],
      S43: ["BK", "PP", "DE", "CR", "AY", "GL"],
      S44: ["DNB", "DNS", "DNG", "DNK"]
    }
  },
  "排球": {
    items: {
      "排羽球上衣": ["拉克蘭袖", "SGB短袖"],
      "排羽球上衣+SGB素色排球褲": ["拉克蘭袖", "SGB短袖"],
      "練習衣一口價": ["練習衣"],
      "練習衣+SGB素色排球褲": ["練習衣"]
    },
    skipStyleSelection: [],
    styles: {
      "拉克蘭袖": ["V41","V42","V43","V44","V45","V46","V47","V48","V49"],
      "SGB短袖": ["V31","V32"],
      "練習衣": ["T01"]
    },
    colors: {
      V41: ["WB", "BK", "MB", "PP", "LB", "MG", "PW", "LV", "GL", "DR"],
      V42: ["NB", "WB", "PW", "PP", "BO", "BK"],
      V43: ["FG", "BK", "GB", "MG", "PB", "AW"],
      V44: ["AW", "BK", "GB", "TB", "QP", "SV"],
      V45: ["LB", "OR", "GL", "NW", "PP", "DR"],
      V46: ["NB", "QP", "PP", "MT", "AW", "RB"],
      V31: ["AW", "EG", "TCG", "WBI", "PB", "QP"],
      V32: ["QP", "DW", "UN", "FG", "KG", "FP"],
      V47: ["TB", "BW", "OY", "WR", "LG"],
      V48: ["BK", "AW", "YY", "WR", "TPB"],
      V49: ["BK", "OY", "WBI", "WR", "TCG"],
      T01: ["白", "淺灰", "深灰", "黑", "芥末黃", "南瓜橘", "螢光綠", "螢光黃", "粉紅", "玫紅", "紅", "酒紅", "天空藍", "黃", "淺紫", "深紫", "水藍", "鯨魚藍", "寶藍", "丈青", "海藍", "草綠", "墨綠", "卡其"]
    }
  },
  "羽球": {
    items: {
      "排羽球上衣": ["拉克蘭袖", "SGB短袖"],
      "排羽球上衣+SGB素色排球褲": ["拉克蘭袖", "SGB短袖"],
      "練習衣一口價": ["練習衣"],
      "練習衣+SGB素色排球褲": ["練習衣"]
    },
    skipStyleSelection: [],
    styles: {
      "拉克蘭袖": [],
      "SGB短袖": ["B21","B11","B12","B13"],
      "練習衣": ["T01"]
    },
    colors: {
      B21: ["NB", "CB", "PB", "BO", "BK"],
      B11: ["BK", "KC", "KB", "WR", "BO"],
      B12: ["GB", "BK", "NTY", "GA", "JG"],
      B13: ["BK", "GB", "NTY", "AW", "GA"],
      T01: ["白", "淺灰", "深灰", "黑", "芥末黃", "南瓜橘", "螢光綠", "螢光黃", "粉紅", "玫紅", "紅", "酒紅", "天空藍", "黃", "淺紫", "深紫", "水藍", "鯨魚藍", "寶藍", "丈青", "海藍", "草綠", "墨綠", "卡其"]
    }
  }
};

let selections = { sport: "", item: "", jerseyType: "", shortsType: "", style: "", color: "" };

function createOption(imgSrc, label, callback) {
  const div = document.createElement('div');
  div.className = 'option';
  const img = document.createElement('img');
  img.src = imgSrc;
  img.className = 'option-img';
  img.onerror = () => img.src = 'images/default.png';
  img.onclick = callback;
  const lbl = document.createElement('div');
  lbl.className = 'label';
  lbl.textContent = label;
  div.appendChild(img);
  div.appendChild(lbl);
  return div;
}

function showStep(stepId) {
  const allSections = document.querySelectorAll('section');
  const target = document.getElementById(stepId);

  allSections.forEach(section => {
    section.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
    const title = section.querySelector('h3');
    if (section.id === stepId) {
      section.style.display = 'block';
      setTimeout(() => {
        section.classList.add('active');
        section.style.opacity = '1';
        section.style.transform = 'translateY(0)';
        if (title) {
          title.style.opacity = '1';
          title.style.transform = 'translateY(0)';
        }
      }, 10);
    } else {
      section.classList.remove('active');
      section.style.opacity = '0';
      section.style.transform = 'translateY(20px)';
      if (title) {
        title.style.opacity = '0';
        title.style.transform = 'translateY(10px)';
      }
      setTimeout(() => {
        section.style.display = 'none';
      }, 500);
    }
  });
}

function init() {
  const sportDiv = document.getElementById('sports');
  Object.keys(data).forEach(sport => {
    const imgSrc = `images/sports/${imageLabelMap[sport] || sport}.png`;
    const opt = createOption(imgSrc, sport, () => {
      selections.sport = sport;
      showItems(sport);
    });
    sportDiv.appendChild(opt);
  });

  document.querySelectorAll('section').forEach(section => {
    if (!section.classList.contains('active')) {
      section.style.display = 'none';
      section.style.opacity = '0';
      section.style.transform = 'translateY(20px)';
    }
  });
}

function showItems(sport) {
  const itemDiv = document.getElementById('items');
  itemDiv.innerHTML = '';
  Object.keys(data[sport].items).forEach(item => {
    const imgSrc = `images/items/${imageLabelMap[item] || item}.png`;
    const opt = createOption(imgSrc, item, () => {
      selections.item = item;
      showJerseyTypes(sport, item);
    });
    itemDiv.appendChild(opt);
  });
  showStep('step2');
}

function showJerseyTypes(sport, item) {
  const typeDiv = document.getElementById('jerseyTypes');
  typeDiv.innerHTML = '';
  data[sport].items[item].forEach(type => {
    if (sport === '羽球' && type === '拉克蘭袖') {
      return; 
    }
    const imgSrc = `images/styles/${imageLabelMap[type] || type}.png`;
    const opt = createOption(imgSrc, type, () => {
      selections.jerseyType = type;
      if (data[sport].skipStyleSelection?.includes(item)) {
  selections.style = "T01";
  showColors(sport, "T01");
} else if (sport === '籃球') {
        showShortsTypes(sport);
      } else {
        showStyles(sport, type);
      }
    });
    typeDiv.appendChild(opt);
  });
  showStep('step3');
}

function showShortsTypes(sport) {
  const shortsDiv = document.getElementById('shortsTypes');
  shortsDiv.innerHTML = '';
  data[sport].shorts.forEach(type => {
    const imgSrc = `images/styles/${imageLabelMap[type] || type}.png`;
    const opt = createOption(imgSrc, type, () => {
      selections.shortsType = type;
      showStyles(sport, selections.jerseyType);
    });
    shortsDiv.appendChild(opt);
  });
  showStep('step4');
}

function showStyles(sport, jerseyType) {
  const styleDiv = document.getElementById('styles');
  styleDiv.innerHTML = '';
  data[sport].styles[jerseyType].forEach(style => {
    const imgSrc = `images/styles/${style}.png`;
    const opt = createOption(imgSrc, style, () => {
      selections.style = style;
      showColors(sport, style);
    });
    styleDiv.appendChild(opt);
  });
  const backStep = sport === '籃球' ? 'step4' : 'step3';
  document.querySelector('#step5 .back-btn').setAttribute('onclick', `showStep('${backStep}')`);
  showStep('step5');
}

function showColors(sport, style) {
  const colorDiv = document.getElementById('colors');
  colorDiv.innerHTML = '';
  (data[sport].colors[style] || []).forEach(color => {
    const label = `${style}-${color}`;
    const imgSrc = `images/colors/${label}.png`;
    const opt = createOption(imgSrc, label, () => {
      selections.color = label;
      showStep('step7');
    });
    colorDiv.appendChild(opt);
  });
  showStep('step6');
}

function goToRagic() {
  const base = "https://ap9.ragic.com/jersey/forms6/16";
  const params = new URLSearchParams({
    webview: "",
    webaction: "form",
    ver: "new",
    version: "2",
    pfv1001193: selections.sport,
    pfv1000069: selections.item,
    pfv1002088: selections.shortsType,
    pfv1000071: selections.style,
    pfv1001153: selections.color
  });
  window.open(`${base}?${params.toString()}`, '_blank');
}

    init();
  </script>
</body>
</html>
